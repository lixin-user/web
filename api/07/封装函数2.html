<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    *{
      margin:0;
      padding:0;
    }
    div{
      width: 100px;
      height: 100px;
      background-color: red;
      position:absolute;
    }
  </style>
</head>
<body>
<button id="btn">点击让box从0移动到400</button>
<div id="box"></div>
<script>
   var btn = document.getElementById('btn');
    var box = document.getElementById('box');
    var timeid;
    btn.onclick = function(){
      fn1(box,400,10,function(){
        fn1(box,0,10);
      });
    }
    function fn1(e,target,step,fn){
      if(e.timeid){
        clearInterval(e.timeid);
      }
      e.timeid = setInterval(fn2,15);
      function fn2(){
        var current = e.offsetLeft;
        if(current>target){
          var pos = current - step;
        }
        else{
          var pos = current + step;
        }
        e.style.left = pos+'px';
        if(Math.abs(pos-target)<=step){
            e.style.left =target + 'px';
            clearInterval(e.timeid);
            if(fn){
              fn();
            }
         }
      }
    }
    
  
</script>
</body>
</html>